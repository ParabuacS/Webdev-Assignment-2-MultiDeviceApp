<%- include('../partials/header') %>
<!--This page is like add chapter, but it shows already existing text-->
<!--I thought it was a good idea for authors to be able to edit existing chapters-->
<main class="container mx-auto px-6 py-10 max-w-3xl">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-slate-900">Edit Chapter</h1>
        <p class="text-slate-500">Updating: <%= chapter.title %></p>
    </div>

    <form action="/chapter/<%= chapter._id %>/edit" method="POST" class="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm space-y-6">
        <input type="hidden" name="bookId" value="<%= book._id %>">
        
        <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Chapter Title</label>
            <input type="text" name="title" value="<%= chapter.title %>" required 
                   class="w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-emerald-500 outline-none transition-all">
        </div>

        <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Chapter Number</label>
            <input type="number" name="chapterNumber" value="<%= chapter.chapterNumber %>" required 
                   class="w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-emerald-500 outline-none transition-all">
        </div>

        <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Story Content</label>
            <textarea name="content" rows="15" required 
                      class="w-full px-4 py-3 rounded-xl border border-slate-300 focus:ring-2 focus:ring-emerald-500 outline-none transition-all"><%= chapter.content %></textarea>
        </div>

        <div class="flex gap-4">
            <button type="submit" class="flex-grow bg-emerald-600 text-white font-bold py-4 rounded-xl hover:bg-emerald-700 transition">
                Save Changes
            </button>
            <a href="/book/<%= book._id %>" class="px-8 py-4 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition">
                Cancel
            </a>
        </div>
    </form>
</main>

<%- include('../partials/footer') %>